import{a as q,_ as $}from"./DWFEnp9h.js";import{N as j}from"./BGFkxco1.js";import{B as x}from"./T8a1OmL8.js";import{d as L,r as b,e as V,k as _,n as o,N as l,o as d,l as c,g as s,f as w,R as y,S as k,q as p,j as f,_ as z}from"./CtvzWlFT.js";import{_ as I}from"./Bk6qo1r0.js";import{_ as R}from"./CG6vhVrP.js";import"./Cca8yeN8.js";import"./CszauIMC.js";import"./DvIeZxc3.js";import"./DxdqOxg8.js";import"./4nfXJs0B.js";import"./8hU1m9Zy.js";import"./DF4FdbSS.js";const S={class:"selected-apps mb-4"},T={class:"flex flex-wrap gap-2"},D={class:"account-section mb-4"},E={class:"flex items-center justify-between mb-2"},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3"},O={class:"account-info"},G={class:"font-medium"},H={class:"text-xs text-gray-500"},J={class:"flex justify-end space-x-2"},K=L({__name:"app-transfer",props:{showModal:{type:Boolean,required:!0},selectedApps:{type:Array,required:!0},accountList:{type:Array,required:!0}},emits:["update:showModal","removeApp","confirmMigrate"],setup(u,{emit:A}){const v=u,M=a=>{n("update:showModal",a)},n=A,h=b(""),r=b([]),C=V(()=>v.accountList||[]),B=a=>{n("removeApp",a)},N=(a,e)=>{if(e)r.value.push(a);else{const i=r.value.indexOf(a);i!==-1&&r.value.splice(i,1)}},U=()=>{n("confirmMigrate",{apps:v.selectedApps,accounts:r.value}),n("update:showModal",!1)};return(a,e)=>{const i=q;return d(),_(l($),{show:u.showModal,title:"应用迁移","onUpdate:show":M,class:"batch-migrate-modal"},{default:o(()=>[c(i,{style:{width:"600px"},title:"自愿",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":o(()=>e[2]||(e[2]=[p(" 按需 ")])),footer:o(()=>[s("div",J,[c(l(x),{onClick:e[1]||(e[1]=t=>n("update:showModal",!1))},{default:o(()=>e[5]||(e[5]=[p("取消")])),_:1,__:[5]}),c(l(x),{type:"primary",disabled:r.value.length===0,onClick:U},{default:o(()=>e[6]||(e[6]=[p(" 确认迁移 ")])),_:1,__:[6]},8,["disabled"])])]),default:o(()=>[s("div",S,[e[3]||(e[3]=s("h4",{class:"text-base font-semibold mb-2"},"已选择的应用：",-1)),s("div",T,[(d(!0),w(y,null,k(u.selectedApps,(t,m)=>(d(),_(l(I),{key:m,closable:"",onClose:g=>B(t==null?void 0:t.appId)},{default:o(()=>[p(f(t.appName),1)]),_:2},1032,["onClose"]))),128))])]),s("div",D,[s("div",E,[e[4]||(e[4]=s("h4",{class:"text-base font-semibold"},"选择目标账号（可多选）：",-1)),c(l(R),{value:h.value,"onUpdate:value":e[0]||(e[0]=t=>h.value=t),placeholder:"搜索账号",size:"small",round:"",clearable:"",class:"w-64"},null,8,["value"])]),s("div",F,[(d(!0),w(y,null,k(C.value,(t,m)=>(d(),_(l(j),{key:m,label:t.username,value:t.id,"onUpdate:checked":g=>N(t.id,g),class:"account-card"},{default:o(()=>[s("div",O,[s("div",G,f(t.username),1),s("div",H,f(t.remark),1)])]),_:2},1032,["label","value","onUpdate:checked"]))),128))])])]),_:1})]),_:1},8,["show"])}}}),re=z(K,[["__scopeId","data-v-44ac4e6d"]]);export{re as default};
