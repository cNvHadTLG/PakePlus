import{d as D,r as m,f as h,g as s,l as t,n as l,j as f,k as F,Q as w,C as x,o as g,q as c,_ as L}from"./CtvzWlFT.js";import{N as M}from"./CslIQTEI.js";import{B as T}from"./T8a1OmL8.js";import{_ as Q}from"./skAiLnHe.js";import{_ as S}from"./Bk6qo1r0.js";import{a as A,_ as G}from"./CbmRlSk2.js";import{_ as H}from"./CG6vhVrP.js";import"./CszauIMC.js";import"./Cca8yeN8.js";import"./XpcH3hjX.js";import"./4nfXJs0B.js";import"./8hU1m9Zy.js";import"./DvIeZxc3.js";import"./DF4FdbSS.js";const J={class:"flex min-h-screen bg-gray-50"},K={class:"flex-grow container mx-auto px-4 py-8"},O={class:"bg-white rounded-xl shadow-sm p-6"},W={class:"flex flex-col md:flex-row gap-8"},X={class:"md:w-1/3 lg:w-1/4"},Y={class:"bg-gray-50 rounded-lg p-6 text-center"},Z={class:"flex justify-center mb-6"},ee=["src"],se={class:"text-2xl font-bold text-gray-800 mb-2"},te={class:"flex justify-center mb-6"},le={class:"space-y-5 text-left"},oe={class:"flex items-center text-gray-600"},ae={class:"text-lg"},re={class:"flex items-center text-gray-600"},ne={class:"text-lg"},de={class:"flex items-center text-gray-600"},ie={class:"text-lg"},ue={class:"md:w-2/3 lg:w-3/4"},me={class:"mb-8"},ce={class:"flex justify-between items-center mb-4 pb-2 border-b"},pe={class:"flex items-center"},_e={key:1},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fe={class:"flex justify-between items-center mb-4 pb-2 border-b"},ge={class:"flex items-center"},we={key:1},be=D({__name:"profile",setup(he){const o=m({username:"张三",avatar:"https://picsum.photos/id/1005/200/200",phone:"138****5678",email:"zhangsan@example.com",memberLevel:"黄金会员",memberExpiryDate:"2024-12-31"}),i=m(!1),u=m(!1),y=m(),d=m({phone:o.value.phone,email:o.value.email}),I={phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入正确的电子邮箱",trigger:"blur"}]},P=m(),r=m({oldPassword:"",newPassword:"",confirmPassword:""}),z={oldPassword:[{required:!0,message:"请输入当前密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(n,e)=>e!==r.value.newPassword?new Error("两次输入的密码不一致"):!0,trigger:"blur"}]},N=n=>{switch(n){case"青铜会员":return"default";case"白银会员":return"secondary";case"黄金会员":return"success";case"铂金会员":return"info";case"钻石会员":return"warning";default:return"default"}},j=()=>{d.value={phone:o.value.phone,email:o.value.email},i.value=!1},q=()=>{var n;(n=y.value)==null||n.validate().then(()=>{o.value.phone=d.value.phone,o.value.email=d.value.email,console.log("保存联系方式成功:",o.value),i.value=!1}).catch(e=>{console.error("表单验证失败:",e)})},k=()=>{r.value={oldPassword:"",newPassword:"",confirmPassword:""},u.value=!1},B=()=>{var n;(n=P.value)==null||n.validate().then(()=>{console.log("保存新密码成功:",r.value),k()}).catch(e=>{console.error("表单验证失败:",e)})};return(n,e)=>{const R=Q,U=S,E=x("PhoneIcon"),b=M,V=x("MailIcon"),$=x("CalendarIcon"),p=T,_=H,v=G,C=A;return g(),h("div",J,[s("main",K,[s("div",O,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[t(R,{size:"160",class:"border-4 border-white shadow-md"},{default:l(()=>[s("img",{src:o.value.avatar,alt:"用户头像",class:"w-full h-full object-cover"},null,8,ee)]),_:1})]),s("h2",se,f(o.value.username),1),s("div",te,[t(U,{type:N(o.value.memberLevel),class:"px-3 py-1 text-lg"},{default:l(()=>[c(f(o.value.memberLevel),1)]),_:1},8,["type"])]),s("div",le,[s("div",oe,[t(b,null,{default:l(()=>[t(E,{class:"mr-2 h-5 w-5"})]),_:1}),s("span",ae,f(o.value.phone),1)]),s("div",re,[t(b,null,{default:l(()=>[t(V,{class:"mr-2 h-5 w-5"})]),_:1}),s("span",ne,f(o.value.email),1)]),s("div",de,[t(b,null,{default:l(()=>[t($,{class:"mr-2 h-5 w-5"})]),_:1}),s("span",ie,"会员到期: "+f(o.value.memberExpiryDate),1)])])])]),s("div",ue,[s("div",me,[s("div",ce,[e[10]||(e[10]=s("h3",{class:"text-lg font-semibold text-gray-800"},"修改联系方式",-1)),s("div",pe,[i.value?w("",!0):(g(),F(p,{key:0,type:"primary",size:"small",onClick:e[0]||(e[0]=a=>i.value=!0)},{default:l(()=>e[7]||(e[7]=[c(" 修改 ")])),_:1,__:[7]})),i.value?(g(),h("div",_e,[t(p,{type:"default",size:"small",onClick:j},{default:l(()=>e[8]||(e[8]=[c("取消")])),_:1,__:[8]}),t(p,{type:"primary",size:"small",class:"ml-2",onClick:q},{default:l(()=>e[9]||(e[9]=[c("保存修改")])),_:1,__:[9]})])):w("",!0)])]),t(C,{ref_key:"contactFormRef",ref:y,model:d.value,rules:I},{default:l(()=>[s("div",ve,[t(v,{path:"phone",label:"手机号码"},{default:l(()=>[t(_,{value:d.value.phone,"onUpdate:value":e[1]||(e[1]=a=>d.value.phone=a),placeholder:"请输入新的手机号码",disabled:!i.value},null,8,["value","disabled"])]),_:1})]),t(v,{path:"email",label:"电子邮箱",class:"mt-6"},{default:l(()=>[t(_,{value:d.value.email,"onUpdate:value":e[2]||(e[2]=a=>d.value.email=a),placeholder:"请输入新的电子邮箱",disabled:!i.value},null,8,["value","disabled"])]),_:1})]),_:1},8,["model"])]),s("div",null,[s("div",fe,[e[14]||(e[14]=s("h3",{class:"text-lg font-semibold text-gray-800"},"修改密码",-1)),s("div",ge,[u.value?w("",!0):(g(),F(p,{key:0,type:"primary",size:"small",onClick:e[3]||(e[3]=a=>u.value=!0)},{default:l(()=>e[11]||(e[11]=[c(" 修改 ")])),_:1,__:[11]})),u.value?(g(),h("div",we,[t(p,{type:"default",size:"small",onClick:k},{default:l(()=>e[12]||(e[12]=[c("取消")])),_:1,__:[12]}),t(p,{type:"primary",size:"small",class:"ml-2",onClick:B},{default:l(()=>e[13]||(e[13]=[c("保存新密码")])),_:1,__:[13]})])):w("",!0)])]),t(C,{ref_key:"passwordFormRef",ref:P,model:r.value,rules:z},{default:l(()=>[t(v,{path:"oldPassword",label:"当前密码"},{default:l(()=>[t(_,{type:"password",value:r.value.oldPassword,"onUpdate:value":e[4]||(e[4]=a=>r.value.oldPassword=a),placeholder:"请输入当前密码",disabled:!u.value},null,8,["value","disabled"])]),_:1}),t(v,{path:"newPassword",label:"新密码"},{default:l(()=>[t(_,{type:"password",value:r.value.newPassword,"onUpdate:value":e[5]||(e[5]=a=>r.value.newPassword=a),placeholder:"请输入新密码",disabled:!u.value},null,8,["value","disabled"])]),_:1}),t(v,{path:"confirmPassword",label:"确认新密码"},{default:l(()=>[t(_,{type:"password",value:r.value.confirmPassword,"onUpdate:value":e[6]||(e[6]=a=>r.value.confirmPassword=a),placeholder:"请再次输入新密码",disabled:!u.value},null,8,["value","disabled"])]),_:1})]),_:1},8,["model"])])])])])])])}}}),Ee=L(be,[["__scopeId","data-v-dea1868f"]]);export{Ee as default};
